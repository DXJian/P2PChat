(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"3HR4":function(e,t,r){"use strict";var a=r("o0o1"),i=r.n(a),o=r("L2JU"),n=r("8BOd");r("i8R7");function s(e,t,r,a,i,o,n){try{var s=e[o](n),f=s.value}catch(e){return void r(e)}s.done?t(f):Promise.resolve(f).then(a,i)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a={components:{},data:function(){return{formData:{},formErrors:{},initialFormData:null,initianLength:0,emptyFormData:null,entity:null,preRequisite:{},isLoading:!0,useUserPreference:!1,dataType:null,configType:""}},computed:l(l({},Object(o.c)("config",{configsWithPreference:"configs",configs:"configsOriginal",vars:"vars",allowExtraInput:"allowExtraInput"})),{},{formHasErrors:function(){var e=!1;return this.formErrors.objForEach((function(t){e=""!==t||e})),e}}),methods:l(l(l(l(l({},Object(o.b)("config",["GetConfig"])),Object(o.b)("user",["GetUser"])),Object(o.b)("navigation",["Generate"])),Object(o.b)("common",["Custom"])),{},{findActualValue:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uuid";return t.find((function(t){return t[r]===e}))||null},submit:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(formUtil.isUnchanged(this.initialFormData,this.formData))return this.$toasted.info(this.$t("general.nothing_changed"),this.$toastConfig.info),!1;this.isLoading=!0,this.formData.hasOwnProperty("type")&&(this.formData.type=this.formData.type.snakeCase());var r=!0===t||this.useUserPreference?n.e:"module"===this.configType?n.d:n.c;if(this.beforeSubmit&&"function"==typeof this.beforeSubmit){var a=this.beforeSubmit();if(!1===a)return void(this.isLoading=!1)}r(this.formData).then((function(r){(!0===t||e.useUserPreference?e.GetUser:e.GetConfig)().then((function(){e.$toasted.success(r.message,e.$toastConfig),e.initialFormData=_.cloneDeep(e.formData),e.isLoading=!1})).catch((function(t){e.isLoading=!1,e.formErrors=formUtil.handleErrors(t)})),"function"==typeof e.afterSubmit&&e.afterSubmit(),"function"==typeof e.afterSubmitSuccess&&e.afterSubmitSuccess()})).catch((function(t){e.isLoading=!1,e.formErrors=formUtil.handleErrors(t),"function"==typeof e.afterSubmit&&e.afterSubmit(),"function"==typeof e.afterSubmitError&&e.afterSubmitError()}))},reset:function(){var e=this;formUtil.confirmAction().then((function(t){t.value&&(e.formData=Object.assign({},e.formData,_.cloneDeep(e.initialFormData)))}))},unsavedCheck:function(e){formUtil.unsavedCheckAlert(this.initialFormData,this.formData,e)},fillPreRequisite:function(e){var t=this;this.preRequisite.objForEach((function(r,a){t.preRequisite[a]=e.hasOwnProperty(a)?e[a]:r})),this.isLoading=!1},fillFormData:function(){var e=this;this.isLoading=!0;var t=this.useUserPreference?this.configsWithPreference:this.configs;this.formData.type&&t[this.formData.type]&&(this.formData=formUtil.assignValues(this.formData,t[this.formData.type])),this.formData.types&&Array.isArray(this.formData.types)&&this.formData.types.forEach((function(r){e.formData=formUtil.assignValues(e.formData,t[r])})),this.formData.override&&this.formData.objForEach((function(r,a){r&&_.isObject(r)?e.formData[a]=formUtil.assignValues(e.formData[a],t[a]):e.formData[a]=t[a]?t[a]:r})),"function"==typeof this.addNewRow&&"function"==typeof this.addNewRowIfNone&&this.addNewRowIfNone(),this.isLoading=!1},getInitialData:function(e){var t,r=this;return(t=i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.isLoading=!0,t.prev=1,t.next=4,n.b(Object.keys(r.preRequisite).join(","));case 4:return a=t.sent,r.fillPreRequisite(a),e&&r.$nextTick((function(){e()})),t.abrupt("return",a);case 10:throw t.prev=10,t.t0=t.catch(1),r.isLoading=!1,r.formErrors=formUtil.handleErrors(t.t0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[1,10]])})),function(){var e=this,r=arguments;return new Promise((function(a,i){var o=t.apply(e,r);function n(e){s(o,a,i,n,f,"next",e)}function f(e){s(o,a,i,n,f,"throw",e)}n(void 0)}))})()}}),mounted:function(){this.fillFormData(),this.initialFormData=_.cloneDeep(this.formData)},beforeDestroy:function(){delete this.formData,delete this.formErrors,delete this.preRequisite},beforeRouteLeave:function(e,t,r){this.unsavedCheck(r)}}},Ro1L:function(e,t,r){"use strict";r.r(t);var a=r("3HR4"),i=r("nFxi"),o={extends:a.a,data:function(){return{formData:{enabled:!1,enableLifetimeMembership:!1,dashboardAlertStartMembership:!1,dashboardAlertMembershipExpired:!1,monthlyCharge:"",annuallyCharge:"",lifetimeCharge:"",type:"membership"}}},beforeRouteEnter:function(e,t,r){i.a.appKmon?r():r({name:"appDashboard"})}},n=r("KHd+"),s=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("base-container",{attrs:{boxed:"","with-loader":"","is-loading":e.isLoading,"loader-color":e.vars.loaderColor}},[r("form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-6"},[r("switch-wrapper",{attrs:{label:e.$t("membership.membership")+" "+e.$t("general.enabled")}},[r("base-switch",{model:{value:e.formData.enabled,callback:function(t){e.$set(e.formData,"enabled",t)},expression:"formData.enabled"}})],1)],1)]),e._v(" "),e.formData.enabled?[r("div",{staticClass:"row mt-3"},[r("div",{staticClass:"col-12 col-md-6 mb-3"},[r("switch-wrapper",{attrs:{label:e.$t("config.membership.dashboard_alert_start_membership")}},[r("base-switch",{model:{value:e.formData.dashboardAlertStartMembership,callback:function(t){e.$set(e.formData,"dashboardAlertStartMembership",t)},expression:"formData.dashboardAlertStartMembership"}})],1)],1),e._v(" "),r("div",{staticClass:"col-12 col-md-6 mb-3"},[r("switch-wrapper",{attrs:{label:e.$t("config.membership.dashboard_alert_membership_expired")}},[r("base-switch",{model:{value:e.formData.dashboardAlertMembershipExpired,callback:function(t){e.$set(e.formData,"dashboardAlertMembershipExpired",t)},expression:"formData.dashboardAlertMembershipExpired"}})],1)],1),e._v(" "),r("div",{staticClass:"col-12 col-md-6 mb-3"},[r("switch-wrapper",{attrs:{label:""+e.$t("membership.enable_lifetime_membership")}},[r("base-switch",{model:{value:e.formData.enableLifetimeMembership,callback:function(t){e.$set(e.formData,"enableLifetimeMembership",t)},expression:"formData.enableLifetimeMembership"}})],1)],1)]),e._v(" "),r("div",{staticClass:"row mt-3"},[r("div",{staticClass:"col-12 col-md-6 mb-3"},[r("base-input",{attrs:{label:e.$t("config.membership.monthly_charge"),type:"number",error:e.formErrors.monthlyCharge,min:"0","input-classes":"hide-spinner",format:"currency"},on:{"update:error":function(t){return e.$set(e.formErrors,"monthlyCharge",t)}},model:{value:e.formData.monthlyCharge,callback:function(t){e.$set(e.formData,"monthlyCharge",t)},expression:"formData.monthlyCharge"}})],1),e._v(" "),r("div",{staticClass:"col-12 col-md-6 mb-3"},[r("base-input",{attrs:{label:e.$t("config.membership.annually_charge"),type:"number",error:e.formErrors.annuallyCharge,min:"0","input-classes":"hide-spinner",format:"currency"},on:{"update:error":function(t){return e.$set(e.formErrors,"annuallyCharge",t)}},model:{value:e.formData.annuallyCharge,callback:function(t){e.$set(e.formData,"annuallyCharge",t)},expression:"formData.annuallyCharge"}})],1),e._v(" "),e.formData.enableLifetimeMembership?r("div",{staticClass:"col-12 col-md-6 mb-3"},[r("base-input",{attrs:{label:e.$t("config.membership.lifetime_charge"),type:"number",error:e.formErrors.lifetimeCharge,min:"0","input-classes":"hide-spinner",format:"currency"},on:{"update:error":function(t){return e.$set(e.formErrors,"lifetimeCharge",t)}},model:{value:e.formData.lifetimeCharge,callback:function(t){e.$set(e.formData,"lifetimeCharge",t)},expression:"formData.lifetimeCharge"}})],1):e._e()])]:e._e(),e._v(" "),r("div",{staticClass:"text-right mt-5"},[r("base-button",{attrs:{type:"button",design:"light"},on:{click:e.reset}},[e._v(e._s(e.$t("general.reset")))]),e._v(" "),r("base-button",{attrs:{type:"submit",design:"primary"}},[e._v(e._s(e.$t("general.save")))])],1)],2)])}),[],!1,null,null,null);t.default=s.exports}}]);
//# sourceMappingURL=index.js.map?id=84c653d53739b534ed61