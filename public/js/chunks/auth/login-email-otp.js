(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{"Bdl+":function(e,t,o){"use strict";o("myRT")},CJTH:function(e,t,o){"use strict";var r=o("L2JU");function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var a={props:["footerCredit","version"],computed:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},Object(r.c)("config",["configs"]))},s=(o("Sg/d"),o("KHd+")),c=Object(s.a)(a,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("footer",{class:["guest-footer mt-2",e.configs.auth&&e.configs.auth.guestLayoutDesign?"parent-design-"+e.configs.auth.guestLayoutDesign:"",e.configs.auth&&e.configs.auth.guestLayoutColor?"parent-color-"+e.configs.auth.guestLayoutColor:""]},[o("p",{staticClass:"text-center mb-0 py-3"},[e._v(e._s(e.footerCredit)+" "+e._s(e.$t("product.version"))+" "+e._s(e.version))])])}),[],!1,null,"5b42e22c",null);t.a=c.exports},OGiG:function(e,t,o){(e.exports=o("I1BE")(!1)).push([e.i,".guest-footer p[data-v-5b42e22c]{color:#fff;opacity:.3}.guest-footer.parent-color-light p[data-v-5b42e22c]{color:#000}.guest-footer.parent-color-dark p[data-v-5b42e22c]{color:#fff}.guest-footer.parent-design-boxed-left p[data-v-5b42e22c],.guest-footer.parent-design-boxed-right p[data-v-5b42e22c]{color:#000}",""])},"Sg/d":function(e,t,o){"use strict";o("l6oD")},WK6j:function(e,t,o){"use strict";var r=o("L2JU"),n=o("kUDz"),i=o("l7An"),a=o("CJTH");function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function c(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){l(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}t.a={components:{Box:n.a,GuestHeader:i.a,GuestFooter:a.a},data:function(){return{formData:{},formErrors:{},initialFormData:null,initianLength:0,emptyFormData:null,preRequisite:{},isLoading:!0,icons:{facebook:"fab fa-facebook-f",twitter:"fab fa-twitter",github:"fab fa-github",google:"fab fa-google"},btns:{facebook:"btn-facebook",twitter:"btn-twitter",github:"btn-github",google:"btn-google-plus"}}},computed:c(c(c({},Object(r.c)("config",["configs","vars"])),Object(r.c)("user",["twoFactorSet","hasRole"])),{},{selectedLocale:function(){var e=getQueryStringByParam("locale");return e||this.configs.system.locale},showLocaleSwitcher:function(){return this.configs.system.locales&&this.configs.system.locales.length>1}}),methods:c(c(c({},Object(r.b)("config",["GetConfig"])),Object(r.b)("user",["Register","SetCSRF","Logout","Login","LoginUsingOtp","ResetTwoFactorSet","RequestReset","ValidateResetPassword","ResetPassword","CheckTwoFactorCode"])),{},{withQuery:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.$route.query,n="";return e.hasOwnProperty("query")||(e.query={}),e.query.locale=r&&r.locale?r.locale:void 0,r&&r.locale&&(n="".concat(n,"?locale=").concat(r.locale)),!r||!r.ref||o&&o.hasOwnProperty("removeRef")&&o.removeRef||(e.query.ref=r.ref,n="?".concat(n,"&ref=").concat(r.ref),n="?".concat(n,"&ref=").concat(r.ref)),n="".concat(e.name).concat(n),t?n:e},switchLocale:function(e){var t=window.location.href;window.location.href=updateQueryStringParam(t,"locale",e.locale)}}),mounted:function(){this.initialFormData=_.cloneDeep(this.formData),this.isLoading=!1},beforeDestroy:function(){delete this.formData,delete this.formErrors,delete this.preRequisite}}},ZHNF:function(e,t,o){"use strict";o.r(t);function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var i={extends:o("WK6j").a,data:function(){return{formData:{email:"",otp:"",ref:null},otpRequested:!1}},methods:{submit:function(){var e=this;this.isLoading=!0;var t=this.$route.query;this.$gaEvent("engagement","login","EmailOTP");var o=this.otpRequested?function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},this.formData):{email:this.formData.email,ref:this.formData.ref};this.LoginUsingOtp(o).then((function(o){if(e.$toasted.success(o.message,e.$toastConfig),e.otpRequested){e.$gaEvent("activity","loggedin","EmailOTP");var r=o.reload?{name:"appDashboard",query:{reload:1}}:{name:"appDashboard"};t&&t.ref&&e.$router.resolve(t.ref)&&(r=e.$router.resolve(t.ref).route),e.hasRole("admin")&&e.configs.system&&e.configs.system.setupWizard&&(r=e.withQuery({name:"setup"})),e.ResetTwoFactorSet().then((function(){e.$router.push(r)})).catch((function(t){e.isLoading=!1,e.formErrors=formUtil.handleErrors(t)}))}else e.$gaEvent("activity","loginOtpRequested","EmailOTP"),e.otpRequested=!0,e.isLoading=!1})).catch((function(t){e.isLoading=!1,e.formErrors=formUtil.handleErrors(t)}))}},mounted:function(){var e=this.$route.query;e&&e.ref&&(this.formData.ref=e.ref),this.SetCSRF()}},a=o("KHd+"),s=Object(a.a)(i,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"guest-page"},[o("box",[o("animated-loader",{attrs:{"is-loading":e.isLoading,"loader-color":e.vars.loaderColor}}),e._v(" "),o("guest-header",[o("h5",[e._v(e._s(e.$t("auth.login.login_using_email_otp")))])]),e._v(" "),o("section",{attrs:{role:"main"}},[o("form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[o("base-input",{staticClass:"mb-3",attrs:{"auto-focus":!e.otpRequested,label:e.$t("auth.login.props.email"),type:"text","addon-left-icon":"fas fa-envelope",error:e.formErrors.email,disabled:e.otpRequested},on:{"update:error":function(t){return e.$set(e.formErrors,"email",t)}},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}}),e._v(" "),e.otpRequested?o("base-input",{staticClass:"mb-3",attrs:{"auto-focus":e.otpRequested,label:e.$t("auth.login.props.otp"),type:"text","addon-left-icon":"fas fa-key",error:e.formErrors.otp},on:{"update:error":function(t){return e.$set(e.formErrors,"otp",t)}},model:{value:e.formData.otp,callback:function(t){e.$set(e.formData,"otp",t)},expression:"formData.otp"}}):e._e(),e._v(" "),o("div",{staticClass:"text-center"},[o("base-button",{staticClass:"my-4 text-lg",attrs:{type:"submit",design:"primary",block:""}},[e.otpRequested?o("span",[e._v(e._s(e.$t("auth.login.login")))]):o("span",[e._v(e._s(e.$t("auth.login.request_otp")))])])],1),e._v(" "),o("div",{staticClass:"form-group m-b-0"},[o("div",{staticClass:"col-sm-12 text-center"},[e.configs.meeting&&e.configs.meeting.enablePam?[e.$route.query&&(e.$route.query.identifier||e.$route.query.uuid)&&e.$route.query.pam?o("p",[o("router-link",{staticClass:"text-primary m-l-5",attrs:{to:e.withQuery({name:"liveMeetingForGuest",params:{uuid:e.$route.query.uuid},query:{identifier:e.$route.query.identifier}},!1,{removeRef:!0})}},[o("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.$t("meeting.join_meeting_as_guest")))])])],1):e._e()]:e._e(),e._v(" "),o("p",[o("router-link",{staticClass:"text-primary m-l-5",attrs:{to:e.withQuery({name:"login"})}},[o("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.$t("auth.login.login_using_password")))])])],1)],2)])],1)])],1),e._v(" "),e.configs.system?o("guest-footer",{attrs:{"footer-credit":e.configs.system.footerCredit,version:e.configs.system.version}}):e._e()],1)}),[],!1,null,null,null);t.default=s.exports},bdEB:function(e,t,o){"use strict";var r=o("L2JU");function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var s={props:{tag:{type:String,default:"a"},place:{type:String,default:"normal"},size:{type:String,default:"normal"},appLogo:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},link:{type:String,default:""},assets:{type:Object}},data:function(){return{appLogoText:window.kmenv.name}},computed:i(i({},Object(r.c)("config",["configs","uiConfigs"])),{},{computedUrl:function(){return"a"===this.tag&&(""!==this.link?this.link:"/")},orgLogo:function(){if(this.appLogo||!this.configs.assets&&!this.assets)return"navbar"===this.place||"sidebar"===this.place||"dark"===this.place?"/images/logo-light.png":"/images/logo.png";var e=this.assets&&this.assets.logo?this.assets.logo:this.configs.assets.logo?this.configs.assets.logo:"/images/logo.png";return(this.assets&&this.assets.logoLight||this.configs.assets.logoLight)&&("navbar"===this.place&&this.uiConfigs.topNavbarLogoLight||"sidebar"===this.place&&this.uiConfigs.leftSidebarLogoLight||"dark"===this.place)&&(e=this.assets&&this.assets.logoLight?this.assets.logoLight:this.configs.assets.logoLight),e},appTitle:function(){return this.configs.basic?this.configs.basic.appName:window.kmenv.name}})},c=o("KHd+"),l=Object(c.a)(s,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(e.tag,{tag:"component",class:["logo",e.place+"-logo",e.size+"-logo",e.orgLogo?"org-logo":"app-logo",e.inline?"inline-logo":""],attrs:{href:e.computedUrl}},[e.orgLogo?o("img",{staticClass:"logo-icon",attrs:{src:e.orgLogo,alt:e.appTitle}}):[o("span",{staticClass:"logo-text",attrs:{title:e.appTitle}},[e._v(e._s(e.appLogoText))])]],2)}),[],!1,null,null,null);t.a=l.exports},kUDz:function(e,t,o){"use strict";var r=o("bdEB"),n=o("L2JU");function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){s(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c={props:{width:{type:String,default:"normal"}},components:{AppLogo:r.a},data:function(){return{}},computed:a(a({},Object(n.c)("config",["configs"])),{},{orgLogo:function(){return this.configs.image&&this.configs.image.logo?this.configs.image.logo:null}})},l=(o("Bdl+"),o("KHd+")),u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:["centered-box justify-content-center","width-"+e.width,e.configs.auth&&e.configs.auth.guestLayoutDesign?"parent-design-"+e.configs.auth.guestLayoutDesign:"",e.configs.auth&&e.configs.auth.guestLayoutColor?"parent-color-"+e.configs.auth.guestLayoutColor:""]},[o("card",{staticClass:"border-0",attrs:{type:"white","header-classes":"bg-white","body-classes":"px-lg-4 py-lg-4"}},[e._t("default"),e._v(" "),this.orgLogo?o("div",{staticClass:"powered-logo text-center"},[o("span",{staticClass:"text-muted mr-1"},[e._v(e._s(e.$t("general.powered_by"))+" ")]),e._v(" "),o("app-logo",{attrs:{"app-logo":"",inline:""}})],1):e._e()],2)],1)}),[],!1,null,"9e2b7368",null).exports,f={props:{name:{type:String,default:"CenteredBox"},width:{type:String,default:"normal"}},components:{CenteredBox:u}},p=Object(l.a)(f,(function(){var e=this.$createElement;return(this._self._c||e)(this.name,{tag:"component",attrs:{width:this.width}},[this._t("default")],2)}),[],!1,null,"ebb852f4",null);t.a=p.exports},l6oD:function(e,t,o){var r=o("OGiG");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(r,n);r.locals&&(e.exports=r.locals)},l7An:function(e,t,o){"use strict";var r=o("bdEB"),n=o("L2JU");function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var s={components:{AppLogo:r.a},data:function(){return{}},computed:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},Object(n.c)("config",["configs"]))},c=o("KHd+"),l=Object(c.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"guest-header text-center mb-4"},[t("div",{staticClass:"logo-wrapper text-center mb-4 pb-2"},[t("app-logo")],1),this._v(" "),this._t("default")],2)}),[],!1,null,null,null);t.a=l.exports},myRT:function(e,t,o){var r=o("oKhl");"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(r,n);r.locals&&(e.exports=r.locals)},oKhl:function(e,t,o){(t=e.exports=o("I1BE")(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Muli:300,400,600,700,800,900);",""]),t.push([e.i,".centered-box[data-v-9e2b7368]{display:flex;flex-direction:column;width:90vw;margin:1.5rem auto 0;justify-content:center}.centered-box>.card[data-v-9e2b7368]{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)}.powered-logo[data-v-9e2b7368]{display:flex;justify-content:center;align-items:center;font-size:.8rem}.powered-logo span[data-v-9e2b7368]{line-height:10px}.powered-logo img[data-v-9e2b7368]{width:80px;margin-left:8px}@media (min-width:768px){.centered-box[data-v-9e2b7368]{width:400px}.centered-box.width-sm[data-v-9e2b7368]{width:350px}.centered-box.width-md[data-v-9e2b7368]{width:450px}.centered-box.width-xl[data-v-9e2b7368]{width:500px}.centered-box.width-xxl[data-v-9e2b7368]{width:550px}.centered-box.width-xxxl[data-v-9e2b7368]{width:600px}.centered-box.parent-design-boxed-left[data-v-9e2b7368],.centered-box.parent-design-boxed-right[data-v-9e2b7368]{margin-top:0;flex-grow:1}.centered-box.parent-design-boxed-left>.card[data-v-9e2b7368],.centered-box.parent-design-boxed-right>.card[data-v-9e2b7368]{box-shadow:none}}",""])}}]);
//# sourceMappingURL=login-email-otp.js.map?id=0c21d5890dca7ddee9ac