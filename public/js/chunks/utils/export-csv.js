(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{LBS4:function(t,e,n){"use strict";n.r(e),n.d(e,"downloadFile",(function(){return g}));var r=n("o0o1"),o=n.n(r);function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(t,e){if(!t)throw new Error(e)}function u(t){return Object.keys(t)}function i(t){return Object.keys(t).map((function(e){return[e,t[e]]}))}function l(t,e,n){var r="."+e,o=new RegExp("(\\"+e+")?$");return n(t).replace(o,r)}function d(t,e,n,r){void 0===n&&(n="download"),void 0===r&&(r=!0);var o=function(t,e,n){switch(e){case"txt":var r="text/plain;charset=utf-8";return n?URL.createObjectURL(new Blob([t],{type:r})):"data:,"+r+encodeURIComponent(t);case"css":r="text/css;charset=utf-8";return n?URL.createObjectURL(new Blob([t],{type:r})):"data:,"+r+encodeURIComponent(t);case"html":r="text/html;charset=utf-8";return n?URL.createObjectURL(new Blob([t],{type:r})):"data:,"+r+encodeURIComponent(t);case"json":r="text/json;charset=utf-8";return n?URL.createObjectURL(new Blob([t],{type:r})):"data:,"+r+encodeURIComponent(t);case"csv":r="text/csv;charset=utf-8";return n?URL.createObjectURL(new Blob([t],{type:r})):"data:,"+r+encodeURIComponent(t);case"xls":r="text/application/vnd.ms-excel;charset=utf-8";return n?URL.createObjectURL(new Blob([t],{type:r})):"data:,"+r+encodeURIComponent(t);case"xml":r="text/application/xml;charset=utf-8";return n?URL.createObjectURL(new Blob([t],{type:r})):"data:,"+r+encodeURIComponent(t);default:return""}}(t,e,r),a=document.createElement("a");a.href=o,a.download=n,a.setAttribute("style","visibility:hidden"),document.body.appendChild(a),a.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1,view:window})),document.body.removeChild(a)}var f,s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},p=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return c};function v(t){return t.map(i).reduce((function(e,n,r){return n.reduce((function(e,n){var o=p(n,2),a=o[0],c=o[1],u=e[a]||Array.from({length:t.length}).map((function(t){return""}));return u[r]=("string"!=typeof c?JSON.stringify(c):c)||"",e[a]=u,e}),e)}),Object.create(null))}function m(t,e){return void 0===e&&(e=function(t){return t}),e(i(t).map((function(t){var e=p(t,2);return{fieldName:e[0],fieldValues:e[1]}})))}function h(t,e){return void 0===e&&(e=function(t){return t}),t.length?'<html>\n  <head>\n    <meta charset="UTF-8">\n  </head >\n  <body>\n    '+function(t,e){c(t.length>0);var n=m(v(t),e);return"\n    <table>\n      <thead>\n        <tr><th><b>"+n.map((function(t){return t.fieldName})).join("</b></th><th><b>")+"</b></th></tr>\n      </thead>\n      <tbody>\n        <tr>"+n.map((function(t){return t.fieldValues})).map((function(t){return t.map((function(t){return"<td>"+t+"</td>"}))})).reduce((function(t,e){return t.map((function(t,n){return""+t+e[n]}))})).join("</tr>\n        <tr>")+"</tr>\n      </tbody>\n    </table>\n  "}(t,e)+"\n  </body>\n</html >\n":""}function b(t){return'<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>\n'+function t(e,n,r,o){void 0===r&&(r="element");void 0===o&&(o=0);var c=(l=n,"555xmlHello .  world!".trim().replace(/^([0-9,;]|(xml))+/,""),l.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")),u=function(t){return Array(t+1).join(" ")}(o);var l;if(null==e)return u+"<"+c+" />";var d=a(e)?e.map((function(e){return t(e,r,r,o+2)})).join("\n"):"object"==typeof e?i(e).map((function(e){var n=p(e,2),a=n[0],c=n[1];return t(c,a,r,o+2)})).join("\n"):u+"  "+(f=String(e),f.replace(/([<>&])/g,(function(t,e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}})));var f;return u+"<"+c+">\n"+d+"\n"+u+"</"+c+">"}(t,"base")+"\n"}function y(t){var e=t.data,n=t.fileName,r=void 0===n?"download":n,o=t.extension,f=t.fileNameFormatter,y=void 0===f?function(t){return t.replace(/\s+/,"_")}:f,w=t.fields,x=t.exportType,j=void 0===x?"txt":x,g=t.replacer,O=void 0===g?null:g,R=t.space,U=void 0===R?4:R,L=t.processor,C=void 0===L?d:L,E=t.withBOM,I=void 0!==E&&E,N=t.delimiter,S=void 0===N?",":N,B=t.beforeTableEncode,P=void 0===B?function(t){return t}:B,k="Can't export unknown data type "+j+".",J="Can't export string data to "+j+".";if("string"==typeof e)switch(j){case"txt":case"css":case"html":return C(e,j,l(r,null!=o?o:j,y));default:throw new Error(J)}var A=function(t){if(!t||a(t)&&!t.length||!a(t)&&!u(t).length)return function(t){return t};var e=a(t)?t.reduce((function(t,e){var n;return s(s({},t),((n={})[e]=e,n))}),Object.create(null)):t;return function(t){return a(t)?t.map((function(t){return i(t).reduce((function(t,n){var r=p(n,2),o=r[0],a=r[1];return o in e&&(t[e[o]]=a),t}),Object.create(null))})).filter((function(t){return u(t).length})):i(t).reduce((function(t,n){var r=p(n,2),o=r[0],a=r[1];return o in e&&(t[e[o]]=a),t}),Object.create(null))}}(w)(function(t){try{return"string"==typeof t?JSON.parse(t):t}catch(t){throw new Error("Invalid export data. Please provide a valid JSON")}}(e)),T=function(t,e,n){void 0===e&&(e=null);try{return JSON.stringify(t,e,n)}catch(t){throw new Error("Invalid export data. Please provide valid JSON object")}}(A,O,U);switch(j){case"txt":case"css":case"html":return C(T,j,l(r,null!=o?o:j,y));case"json":return C(T,j,l(r,null!=o?o:"json",y));case"csv":c(a(A),"Invalid export data. Please provide an array of object");var F=function(t,e,n){if(void 0===e&&(e=","),void 0===n&&(n=function(t){return t}),!t.length)return"";var r=m(v(t),n);return r.map((function(t){return t.fieldName})).join(e)+"\r\n"+r.map((function(t){return t.fieldValues})).map((function(t){return t.map((function(t){return'"'+t.replace(/\"/g,'""')+'"'}))})).reduce((function(t,n){return t.map((function(t,r){return""+t+e+n[r]}))})).join("\r\n")}(A,S,P);return C(I?"\ufeff"+F:F,j,l(r,null!=o?o:"csv",y));case"xls":return c(a(A),"Invalid export data. Please provide an array of object"),C(h(A,P),j,l(r,null!=o?o:"xls",y));case"xml":return C(b(A),j,l(r,null!=o?o:"xml",y));default:throw new Error(k)}}(f=y||(y={})).types={txt:"txt",css:"css",html:"html",json:"json",csv:"csv",xls:"xls",xml:"xml"},f.processors={downloadFile:d};var w=y;function x(t,e,n,r,o,a,c){try{var u=t[a](c),i=u.value}catch(t){return void n(t)}u.done?e(i):Promise.resolve(i).then(r,o)}function j(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(t){x(a,r,o,c,u,"next",t)}function u(t){x(a,r,o,c,u,"throw",t)}c(void 0)}))}}function g(t,e){return O.apply(this,arguments)}function O(){return(O=j(o.a.mark((function t(e,n){var r,a=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a.length>2&&void 0!==a[2]?a[2]:"download",w({data:e,fileName:r,exportType:n});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=export-csv.js.map?id=a8f4afc3262385028d31